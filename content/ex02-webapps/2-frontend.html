<div id="ex2" class="card" style="margin: 10px;">
    <div class="card-header">
        <h2>Exercise 2 - front-end</h2>
    </div>
    <div class="card-body" style="padding: 20px;">
        <h3>Build a front-end web application by using Azure Web Apps</h3>
        <div id="ex2-task1">
            <h4>Task 1: Create a web app </h4>
            <div id="ex2task1detail" style="list-style: none;">
                <ol>
                    <li>
                        <p>On the Azure portal's <strong>navigation</strong> pane, select <strong>Create
                                a resource</strong>.</p>
                    </li>
                    <li>
                        <p>On the <strong>Create a resource</strong> blade, in the <strong>Search
                                services and marketplace</strong> text box, enter <strong>Web
                                App</strong>, and then select Enter.</p>
                    </li>
                    <li>
                        <p>On the <strong>Marketplace</strong> search results blade, select <strong>Web
                                App</strong>.</p>
                    </li>
                    <li>
                        <p>On the <strong>Web App</strong> blade, select <strong>Create</strong>.<br>
                            <span style="font-style: italic;">This part should look familiar.</span>

                        </p>
                    </li>
                    <li>
                        <p>On the <strong>Create Web App</strong> blade, on the <strong>Basics</strong>
                            tab,
                            perform the following actions, and then select the
                            <strong>Monitoring</strong>
                            tab:
                        </p>
                        <table class="table table-striped">
                            <caption>web app settings</caption>
                            <thead>
                                <tr>
                                    <th scope="col">Setting</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Subscription</strong>drop-down list</td>
                                    <td>Retain the default value</td>
                                </tr>
                                <tr>
                                    <td><strong>Resource group</strong>section</td>
                                    <td>Select<strong> ManagedPlatform</strong></td>
                                </tr>
                                <tr>
                                    <td><strong>Name</strong>&nbsp;text box</td>
                                    <td>Enter <strong>imgweb</strong><em>[yourname]</em></td>
                                </tr>
                                <tr>
                                    <td><strong>Publish</strong> section</td>
                                    <td>Select <strong>Code</strong></td>
                                </tr>
                                <tr>
                                    <td><strong>Runtime stack</strong> drop-down list</td>
                                    <td>Select <strong>.NET 6 (LTS)</strong></td>
                                </tr>
                                <tr>
                                    <td><strong>Operating System</strong> section</td>
                                    <td>Select <strong>Windows</strong></td>
                                </tr>
                                <tr>
                                    <td><strong>Region</strong> drop-down list</td>
                                    <td>Select the <strong>East US</strong> region</td>
                                </tr>
                                <tr>
                                    <td><strong>Windows Plan (East US)</strong> section</td>
                                    <td>Select <strong>ManagedPlan</strong></td>
                                </tr>
                            </tbody>
                        </table>
                        <p>The following screenshot displays the configured settings on the
                            <strong>Create web app</strong> blade.
                        </p>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: As discussed, you can select
                                different service plans and regions to change the operating cost. The
                                FREE tier (F1) is more than adequate for most development applications.
                            </p>
                        </blockquote>
                        <img src="https://github.com/MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure/raw/master/Instructions/Labs/media/l01_create_a_front_end_web_app.png"
                            alt="Create web app blade" />
                    </li>
                    <li>
                        <p>On the <strong>Monitoring</strong> tab, in the <strong>Enable Application
                                Insights</strong> section, select <strong>No</strong>, and then select
                            <strong>Review + create</strong>.
                        </p>
                    </li>
                    <li>
                        <p>From the <strong>Review + create</strong> tab, review the options that you
                            selected during the previous steps.</p>
                    </li>
                    <li>
                        <p>Select <strong>Create</strong> to create the web app by using your specified
                            configuration.</p>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: Wait for the creation task to
                                complete
                                before you continue with this lab.</p>
                        </blockquote>
                    </li>
                    <li>
                        <p>On the <strong>Overview</strong> blade, select the <strong>Go to
                                resource</strong>
                            button to navigate to the blade of the newly created web app.</p>
                    </li>
                </ol>
            </div> <!-- #ex2task1detail -->
        </div> <!-- #ex2-task1 -->
        <div id="ex2-task2">
            <h4>Task 2: Configure a web app</h4>
            <div id="ex2task2detail" style="list-style: none;">
                <ol>
                    <li>
                        <p>On the <strong>App Service</strong> blade, in the <strong>Settings</strong>
                            section, select the <strong>Environment variables</strong> link.</p>
                    </li>
                    <li>
                        <p>In the <strong>App settings</strong> section, perform the following
                            actions, then save using the <strong>Apply</strong> button, and
                            <strong>Confirm</strong> to save the new environement variable.
                        </p>
                        <table class="table table-striped">
                            <caption>App Setting configuration</caption>
                            <thead>
                                <tr>
                                    <th scope="col">Setting</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Application settings</strong> tab</td>
                                    <td>Select <strong>New application setting</strong></td>
                                </tr>
                                <tr>
                                    <td><strong>Add/Edit application setting</strong> pop-up dialog</td>
                                    <td>In the <strong>Name</strong> text box, enter
                                        <strong>ApiUrl</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Value</strong> text box</td>
                                    <td>Enter the web app URL that you copied previously in this lab.
                                        <strong>Note</strong>: Make sure you include the protocol
                                        <strong>https://</strong>, in the URL that you copy into the
                                        <strong>Value</strong> text box for this application setting
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Deployment slot setting</strong> text box</td>
                                    <td>Retain the default value, and then select <strong>OK</strong>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: Wait for the application
                                settings to save before you continue with this lab.</p>
                        </blockquote>
                    </li>
                </ol>
            </div>
        </div> <!-- #ex2-task2 -->
        <div id="ex2-task3">
            <h4>Task 3: Deploy web app</h4>
            <div id="ex2task3detail" style="list-style: none;">
                <p>Deploy an <code>ASP.NET</code> web application to Web Apps</p>
                <ol>
                    <li>
                        <p>Open <strong>Visual Studio Code</strong> and <strong>Open Folder</strong>
                            from
                            the
                            <strong>File</strong> menu
                        </p>
                    </li>
                    <li>
                        <p>Go to the <strong>Web</strong> folder from the project data and
                            <strong>Select
                                Folder</strong>.
                        </p>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: Ignore any prompts to add
                                required
                                assets to build and debug and to run the restore command to address
                                unresolved
                                dependencies.</p>
                        </blockquote>
                    </li>
                    <li>
                        <p>On the <strong>Explorer</strong> pane of the <strong>Visual Studio
                                Code</strong>
                            window, expand the <strong>Pages</strong> folder, and then select the
                            <strong>Index.cshtml.cs</strong> file to open the file in the editor.
                        </p>
                    </li>
                    <li>
                        <p>In the editor, in the <strong>IndexModel</strong> class on line 30, observe
                            the
                            <strong>OnGetAsync</strong> method and the code used to retrieve the list of
                            images
                            from the API.
                        </p>
                    </li>
                    <li>
                        <p>In the <strong>IndexModel</strong> class on line 41, observe the
                            <strong>OnPostAsync</strong> method and the code used to stream an uploaded
                            image to
                            the backend API.
                        </p>
                    </li>
                    <li>
                        <p>login from a command prompt.</p>
                        <div
                            class="snippet-clipboard-content notranslate position-relative overflow-auto">
                            <pre class="notranslate"><code>az login
</code></pre>
                        </div>
                    </li>
                    <li>
                        <p>Enter your account credentials in the browser and select <strong>Sign
                                in</strong>.
                        </p>
                    </li>
                    <li>
                        <p>Return to the <strong>Command Prompt</strong> window. Wait for the sign-in
                            process to
                            finish.</p>
                    </li>
                    <li>
                        <p>Enter the following command, and then select Enter to list all the apps in
                            your
                            <strong>ManagedPlatform</strong> resource group:
                        </p>
                        <div
                            class="snippet-clipboard-content notranslate position-relative overflow-auto">
                            <pre class="notranslate"><code>az webapp list --resource-group ManagedPlatform
</code></pre>
                        </div>
                    </li>
                    <li>
                        <p>Enter the following command, and then select Enter to find the apps that have
                            the
                            <strong>imgweb*</strong> prefix:
                        </p>
                        <div
                            class="snippet-clipboard-content notranslate position-relative overflow-auto">
                            <pre class="notranslate"><code>az webapp list --resource-group ManagedPlatform --query "[?starts_with(name, 'imgweb')]"
</code></pre>
                        </div>
                    </li>
                    <li>
                        <p>Enter the following command, and then select Enter to render only the name of
                            the
                            single app that has the <strong>imgweb*</strong> prefix:</p>
                        <div
                            class="snippet-clipboard-content notranslate position-relative overflow-auto">
                            <pre class="notranslate"><code>az webapp list --resource-group ManagedPlatform --query "[?starts_with(name, 'imgweb')].{Name:name}" --output tsv
</code></pre>
                        </div>
                    </li>
                    <li>
                        <p>Set the current directory to the <strong>Web/</strong> folder from the
                            downloaded
                            (and unzipped) data file. Enter the following command, and then select Enter
                            to
                            deploy the <strong>web.zip</strong> file to the new Azure web app</p>
                        <div
                            class="snippet-clipboard-content notranslate position-relative overflow-auto">
                            <pre
                                class="notranslate"><code>az webapp deploy --resource-group ManagedPlatformRG --name imgwebuid100 --type zip  --src-path web.zip</code></pre>
                        </div>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: Replace the
                                <em>&lt;name-of-your-web-app&gt;</em> placeholder with the name of the
                                web
                                app
                                that you created previously in this lab. You recently queried this
                                app&rsquo;s
                                name in the previous steps.
                            </p>
                        </blockquote>
                        <p>Wait for the deployment to complete before you continue with this lab.</p>
                    </li>
                    <li>
                        <p>On the Azure portal's <strong>navigation</strong> pane, select
                            <strong>Resource
                                groups</strong>.
                        </p>
                    </li>
                    <li>
                        <p>On the <strong>Resource groups</strong> blade, select the
                            <strong>ManagedPlatform</strong> resource group that you created previously
                            in
                            this
                            lab.
                        </p>
                    </li>
                    <li>
                        <p>On the <strong>ManagedPlatform</strong> blade, select the
                            <strong>imgweb</strong><em>[yourname]</em> web app that you created
                            previously
                            in
                            this lab.
                        </p>
                    </li>
                    <li>
                        <p>On the <strong>App Service</strong> blade, select <strong>Browse</strong>.
                        </p>
                    </li>
                    <li>
                        <p>Observe the list of images in the gallery. The gallery should list a single
                            image
                            that was uploaded to Storage previously in the lab.</p>
                    </li>
                    <li>
                        <p>In the <strong>Contoso Photo Gallery</strong> webpage, in the <strong>Upload
                                a
                                new
                                image</strong> section, perform the following actions:</p>
                        <p>a. Select <strong>Browse</strong>.</p>
                        <p>b. In the <strong>File Explorer</strong> window, browse to <strong>Allfiles
                                (F):\Allfiles\Labs\01\Starter\Images</strong>, select the
                            <strong>bahnmi.jpg</strong> file, and then select <strong>Open</strong>.
                        </p>
                        <p>c. Select <strong>Upload</strong>.</p>
                    </li>
                    <li>
                        <p>Observe that the list of gallery images has updated with your new image.</p>
                        <blockquote>
                            <p><span class="color-fg-accent">Note</span>: In some rare cases, you might
                                need
                                to
                                refresh your browser window to retrieve the new image.</p>
                        </blockquote>
                    </li>
                    <li>
                        <p>Repeat and upload each of the files from the Images folder</p>
                    </li>
                </ol>
            </div>
        </div> <!-- #ex2-task3 -->
        <h4>Review</h4>
        <p>In this exercise, you created an Azure web app and deployed an existing web
            application&rsquo;s
            code
            to the resource in the cloud.</p>
        <p class="ic-flash-info" style="background-color: yellow; padding: 20px;">Take a screenshot of
            the
            webapp output AND the URL from your browser window showing all of the uploaded files. Save
            this
            for
            later.</p>
    </div><!-- .card-body -->
</div> <!-- #ex2 -->
